# Virtual DOM

Q1: Virtual DOM 的工作原理是什么？

> 对于「是什么？」的问题，可以采用"讲说理列"方法论。

Q2：VDom 为什么能引起关注，触发流行呢？

Q3：虚拟 DOM 一定比真实的 DOM 操作性能更高吗？

**注意边界。**要在具体的场景下讨论，较为准确地说法：

大量的直接操作 DOM 容易引起网页性能下降，react 基于虚拟 DOM 的 dif 处理与批处理操作，可降低 DOM 的操作范围与频次，提升页面性能。

Q4：虚拟 DOM 一定可以规避 xss 吗？

**虚拟 DOM 内部确保字符转义，可以做到这一点。**但 react 存在风险，因为留有 dangerouslySetInnerHTML API 绕过转义。

Q5：没有虚拟 DOM 就不能实现跨平台吗？

可以的，如 NativeScript 没有虚拟 DOM，它是通过提供兼容原生 API 的 JS API 实现跨平台的。

**虚拟 DOM 的优势在那里呢？**

**跨平台的成本更低，**

Q6：虚拟 DOM 的缺点？

- 内存占用较高
- 无法进行极致优化。

Q7：除渲染页面，虚拟 DOM 还有哪些应用场景？

- 只要记录真实 DOM 变更，它甚至可应用于埋点统计和数据记录等。

## 基础

1. VDom 是一棵 Object tree。

2. React 主要工作是**组件实现，更新调度**等。

3. ReactDOM 提供了在网页上渲染的基础。

4. 当 React 向 iOS，Android 开发时，只需要通过 react native 提供 native 层元素。

### VDom 工作原理

1. diff 函数，计算状态变更前后的虚拟 DOM 树差异。

2. 渲染函数，渲染整个虚拟 DOM 树或处理差异点。

#### 讲概念

#### 说用途

#### 理思路

#### 列优缺点

#### 核心问题 - 什么原因引发流行？

## 要点

1. 为了更便捷高效使用声明式开发组件，引入了 XML 语法结构的 JSX。
