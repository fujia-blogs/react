# 面向组件跨层级通信

Q1：react 如何面向组件跨层级通信？

> 背后的问题是：是否做过大型前端项目的经验？

思路：**一个基本，多个场景** - 先确定主题，再根据场景列举。

## 基础

1. 组件关系：

- 父与子 - 父组件向子组件传递数据
- 子与父 - 子组件向父组件传递数据
- 兄弟 - 并列存于父组件中，需要进行数据相互传递
- 无直接关系 - 处于一棵树中相距甚远位置，但需共享，传递数据。

2. 每种**通信方式**一定都有它实际的意义和具体的业务场景对应，不只是代码的呈现。

- 结合场景

3. 父与子

4. 子与父，主要依赖于回调函数。

5. 兄弟组件，主要依赖于父组件的中转。

### 无直接关系组件的通信

1. Context

2. 全局变量与事件

- 全局变量，即将变量挂载到 window 上，修改 window 上的变量并不会引起 react 组件重新渲染。

  2.1 全局事件

3. 状态管理框架，有多种解决方案，如：

- Flux
- Redux
- Mobx

在一定程度上约束了项目的代码结构。
